<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOM</title>
  </head>
  <body>
    <h1>DOM Manipulation</h1>
    <label for="user-name">Enter your name</label>
    <input type="text" name="username" id="user-name" />
    <p id="para"></p>

    <label for="qna-box">Have any question, ask us</label><br /><br />
    <textarea name="qna-box" id="qna-box" cols="30" rows="5"></textarea>
    <p id="para1"></p>

    <label for="country">Which country do you live in ?</label>
    <select name="country" id="country">
      <option value="">--Choose your country--</option>
      <option value="Bharat">Bharat</option>
      <option value="Nepal">Nepal</option>
      <option value="Russia">Russia</option>
      <option value="USA">USA</option>
      <option value="Denmark">Denmark</option>
    </select>

    <p id="para2"></p>

    <label>Choose your gender</label><br /><br />

    <label class="gender"
      ><input type="radio" name="gender" value="male" /> Male</label
    ><br />
    <label class="gender"
      ><input type="radio" name="gender" value="female" /> Female</label
    ><br />
    <label class="gender"
      ><input type="radio" name="gender" value="transgender" />
      Transgender</label
    >

    <p id="gender"></p>

    <label>Choose your subjects</label><br /><br />

    <label
      ><input
        class="checkbox"
        type="checkbox"
        name="subject"
        value="maths"
        oninput="box(this)"
      />
      Maths</label
    ><br />

    <label
      ><input
        class="checkbox"
        type="checkbox"
        name="subject"
        value="computer science"
        oninput="box(this)"
      />
      Computer Science</label
    ><br />

    <label
      ><input
        class="checkbox"
        type="checkbox"
        name="subject"
        value="biology"
        oninput="box(this)"
      />
      Biology</label
    ><br />

    <label
      ><input
        class="checkbox"
        type="checkbox"
        name="subject"
        value="physics"
        oninput="box(this)"
      />
      Physics</label
    ><br />

    <label
      ><input
        class="checkbox"
        type="checkbox"
        name="subject"
        value="economics"
        oninput="box(this)"
      />
      Economics</label
    >

    <p id="subjects"></p>

    <script>
      // input event works on input, textarea and select elements

      // input element
      function displayText() {
        let text = document.getElementById('user-name').value;
        document.getElementById('para').innerText = text.toUpperCase();
      }

      let input = document.getElementById('user-name');
      input.addEventListener('input', displayText);

      // textarea element
      function displayText1() {
        let text = document.getElementById('qna-box').value;
        document.getElementById('para1').innerText = text;
      }

      let textArea = document.getElementById('qna-box');
      textArea.addEventListener('input', displayText1);

      // select element
      function displayText2() {
        let value = document.getElementById('country').value;
        let para = document.getElementById('para2');

        if (value) {
          para.innerText = `You live in ${value}`;
        } else {
          para.innerText = 'Please choose your country';
        }
      }

      let select = document.getElementById('country');
      select.addEventListener('input', displayText2);

      // input event also works on radio buttons and checkboxes

      // radio buttons
      let radioBtns = document.querySelectorAll('input[type="radio"]');

      function radioEvent() {
        document.getElementById(
          'gender'
        ).innerText = `You are a ${this.value[0].toUpperCase()}${this.value.slice(
          1
        )}`;
      }

      for (const btn of radioBtns) {
        btn.addEventListener('input', radioEvent);
      }

      let subjects = [];

      // checkboxes
      function box(checkbox) {
        let currValue = checkbox.value;
        subjects.push(currValue);
        let text = document.getElementById('subjects');

        if (subjects.length === 1) {
          text.innerText = `You have chosen ${currValue}`;
        } else if (subjects.length === 5) {
          text.innerText = `${text.innerText} and ${currValue}.`;
        } else {
          text.innerText = `${text.innerText}, ${currValue}`;
        }
      }
    </script>
  </body>
</html>
